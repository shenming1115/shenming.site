<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>配置检查 - Shen Ming Portfolio | shenming.site</title>
    <meta name="description" content="Shen Ming网站配置检查页面 - 检查网站资源加载状态和功能完整性">
    <meta name="keywords" content="Shen Ming, 配置检查, 网站测试, shenming.site">
    <meta name="author" content="Shen Ming">
    <link rel="canonical" href="https://shenming.site/config-check.html">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2C3E50;
            --success: #27AE60;
            --error: #E74C3C;
            --warning: #F39C12;
            --bg-light: #FFFFFF;
            --bg-secondary: #F8F9FA;
            --text-primary: #2C3E50;
            --text-secondary: #7F8C8D;
            --border-radius: 12px;
            --shadow-light: 0 2px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 40px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        h1 {
            color: var(--primary);
            font-weight: 600;
            font-size: 2.5em;
            margin-bottom: 1em;
            text-align: center;
        }

        #checkResults {
            max-width: 800px;
            margin: 0 auto;
        }

        .check {
            margin: 16px 0;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            font-weight: 500;
        }

        .check:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .success {
            background: rgba(39, 174, 96, 0.1);
            color: var(--success);
            border: 1px solid rgba(39, 174, 96, 0.2);
        }

        .error {
            background: rgba(231, 76, 60, 0.1);
            color: var(--error);
            border: 1px solid rgba(231, 76, 60, 0.2);
        }

        .warning {
            background: rgba(243, 156, 18, 0.1);
            color: var(--warning);
            border: 1px solid rgba(243, 156, 18, 0.2);
        }

        .check:last-child {
            background: var(--bg-light);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--text-primary);
            font-size: 1.1em;
        }
    </style>
</head>

<body>
    <h1>🛡️ 配置检查报告</h1>
    <div id="checkResults"></div>

    <script>
        const checks = [];

        // 检查 CSS 文件
        const cssLink = document.createElement('link');
        cssLink.rel = 'stylesheet';
        cssLink.href = 'styles.css';
        cssLink.onload = () => {
            checks.push({ type: 'success', message: '✅ styles.css 链接正常' });
            updateResults();
        };
        cssLink.onerror = () => {
            checks.push({ type: 'error', message: '❌ styles.css 链接失败' });
            updateResults();
        };
        document.head.appendChild(cssLink);

        // 检查 JS 文件
        const jsScript = document.createElement('script');
        jsScript.src = 'script.js';
        jsScript.onload = () => {
            checks.push({ type: 'success', message: '✅ script.js 链接正常' });
            updateResults();
        };
        jsScript.onerror = () => {
            checks.push({ type: 'error', message: '❌ script.js 链接失败' });
            updateResults();
        };
        document.head.appendChild(jsScript);

        // 检查图片文件
        const img = new Image();
        img.onload = () => {
            checks.push({ type: 'success', message: '✅ 图片文件 (psycho-kev-9uYCEzNYZ2A-unsplash.jpg) 加载正常' });
            updateResults();
        };
        img.onerror = () => {
            checks.push({ type: 'error', message: '❌ 图片文件 (psycho-kev-9uYCEzNYZ2A-unsplash.jpg) 加载失败' });
            updateResults();
        };
        img.src = 'Assets/psycho-kev-9uYCEzNYZ2A-unsplash.jpg';

        // 检查音频文件
        const audio = new Audio();
        audio.oncanplaythrough = () => {
            checks.push({ type: 'success', message: '✅ 音频文件 (burp-1.mp3) 加载正常' });
            updateResults();
        };
        audio.onerror = () => {
            checks.push({ type: 'error', message: '❌ 音频文件 (burp-1.mp3) 加载失败' });
            updateResults();
        };
        audio.src = 'Assets/burp-1.mp3';

        // 检查 Cloudflare Turnstile
        if (window.turnstile) {
            checks.push({ type: 'success', message: '✅ Cloudflare Turnstile 脚本加载正常' });
        } else {
            checks.push({ type: 'warning', message: '⚠️ Cloudflare Turnstile 脚本未加载（可能需要等待）' });
        }

        // 检查必要的 HTML 元素
        const requiredElements = [
            'playButton',
            'audioPlayer',
            'toggleMode',
            'captchaForm',
            'verifyBtn',
            'securityStatus',
            'ipInfo',
            'riskLevel',
            'verificationResult'
        ];

        requiredElements.forEach(id => {
            if (document.getElementById(id)) {
                checks.push({ type: 'success', message: `✅ 元素 #${id} 存在` });
            } else {
                checks.push({ type: 'error', message: `❌ 元素 #${id} 不存在` });
            }
        });

        function updateResults() {
            const container = document.getElementById('checkResults');
            container.innerHTML = '';

            checks.forEach(check => {
                const div = document.createElement('div');
                div.className = `check ${check.type}`;
                div.textContent = check.message;
                container.appendChild(div);
            });

            // 统计
            const successCount = checks.filter(c => c.type === 'success').length;
            const errorCount = checks.filter(c => c.type === 'error').length;
            const warningCount = checks.filter(c => c.type === 'warning').length;

            const summary = document.createElement('div');
            summary.className = 'check';
            summary.style.backgroundColor = '#e2e3e5';
            summary.style.color = '#383d41';
            summary.style.border = '1px solid #d6d8db';
            summary.innerHTML = `
                <strong>检查摘要:</strong><br>
                ✅ 成功: ${successCount}<br>
                ❌ 错误: ${errorCount}<br>
                ⚠️ 警告: ${warningCount}
            `;
            container.appendChild(summary);
        }

        // 初始结果
        updateResults();

        // 延迟检查 Cloudflare Turnstile
        setTimeout(() => {
            if (window.turnstile) {
                checks.push({ type: 'success', message: '✅ Cloudflare Turnstile 脚本延迟加载成功' });
            } else {
                checks.push({ type: 'warning', message: '⚠️ Cloudflare Turnstile 脚本仍未加载' });
            }
            updateResults();
        }, 3000);
    </script>
</body>

</html>