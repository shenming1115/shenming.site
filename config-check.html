<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é…ç½®æ£€æŸ¥</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .check { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .warning { background-color: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
    </style>
</head>
<body>
    <h1>ğŸ›¡ï¸ é…ç½®æ£€æŸ¥æŠ¥å‘Š</h1>
    <div id="checkResults"></div>

    <script>
        const checks = [];
        
        // æ£€æŸ¥ CSS æ–‡ä»¶
        const cssLink = document.createElement('link');
        cssLink.rel = 'stylesheet';
        cssLink.href = 'styles.css';
        cssLink.onload = () => {
            checks.push({type: 'success', message: 'âœ… styles.css é“¾æ¥æ­£å¸¸'});
            updateResults();
        };
        cssLink.onerror = () => {
            checks.push({type: 'error', message: 'âŒ styles.css é“¾æ¥å¤±è´¥'});
            updateResults();
        };
        document.head.appendChild(cssLink);
        
        // æ£€æŸ¥ JS æ–‡ä»¶
        const jsScript = document.createElement('script');
        jsScript.src = 'script.js';
        jsScript.onload = () => {
            checks.push({type: 'success', message: 'âœ… script.js é“¾æ¥æ­£å¸¸'});
            updateResults();
        };
        jsScript.onerror = () => {
            checks.push({type: 'error', message: 'âŒ script.js é“¾æ¥å¤±è´¥'});
            updateResults();
        };
        document.head.appendChild(jsScript);
        
        // æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶
        const img = new Image();
        img.onload = () => {
            checks.push({type: 'success', message: 'âœ… å›¾ç‰‡æ–‡ä»¶ (psycho-kev-9uYCEzNYZ2A-unsplash.jpg) åŠ è½½æ­£å¸¸'});
            updateResults();
        };
        img.onerror = () => {
            checks.push({type: 'error', message: 'âŒ å›¾ç‰‡æ–‡ä»¶ (psycho-kev-9uYCEzNYZ2A-unsplash.jpg) åŠ è½½å¤±è´¥'});
            updateResults();
        };
        img.src = 'Assets/psycho-kev-9uYCEzNYZ2A-unsplash.jpg';
        
        // æ£€æŸ¥éŸ³é¢‘æ–‡ä»¶
        const audio = new Audio();
        audio.oncanplaythrough = () => {
            checks.push({type: 'success', message: 'âœ… éŸ³é¢‘æ–‡ä»¶ (burp-1.mp3) åŠ è½½æ­£å¸¸'});
            updateResults();
        };
        audio.onerror = () => {
            checks.push({type: 'error', message: 'âŒ éŸ³é¢‘æ–‡ä»¶ (burp-1.mp3) åŠ è½½å¤±è´¥'});
            updateResults();
        };
        audio.src = 'Assets/burp-1.mp3';
        
        // æ£€æŸ¥ Cloudflare Turnstile
        if (window.turnstile) {
            checks.push({type: 'success', message: 'âœ… Cloudflare Turnstile è„šæœ¬åŠ è½½æ­£å¸¸'});
        } else {
            checks.push({type: 'warning', message: 'âš ï¸ Cloudflare Turnstile è„šæœ¬æœªåŠ è½½ï¼ˆå¯èƒ½éœ€è¦ç­‰å¾…ï¼‰'});
        }
        
        // æ£€æŸ¥å¿…è¦çš„ HTML å…ƒç´ 
        const requiredElements = [
            'playButton',
            'audioPlayer',
            'toggleMode',
            'captchaForm',
            'verifyBtn',
            'securityStatus',
            'ipInfo',
            'riskLevel',
            'verificationResult'
        ];
        
        requiredElements.forEach(id => {
            if (document.getElementById(id)) {
                checks.push({type: 'success', message: `âœ… å…ƒç´  #${id} å­˜åœ¨`});
            } else {
                checks.push({type: 'error', message: `âŒ å…ƒç´  #${id} ä¸å­˜åœ¨`});
            }
        });
        
        function updateResults() {
            const container = document.getElementById('checkResults');
            container.innerHTML = '';
            
            checks.forEach(check => {
                const div = document.createElement('div');
                div.className = `check ${check.type}`;
                div.textContent = check.message;
                container.appendChild(div);
            });
            
            // ç»Ÿè®¡
            const successCount = checks.filter(c => c.type === 'success').length;
            const errorCount = checks.filter(c => c.type === 'error').length;
            const warningCount = checks.filter(c => c.type === 'warning').length;
            
            const summary = document.createElement('div');
            summary.className = 'check';
            summary.style.backgroundColor = '#e2e3e5';
            summary.style.color = '#383d41';
            summary.style.border = '1px solid #d6d8db';
            summary.innerHTML = `
                <strong>æ£€æŸ¥æ‘˜è¦:</strong><br>
                âœ… æˆåŠŸ: ${successCount}<br>
                âŒ é”™è¯¯: ${errorCount}<br>
                âš ï¸ è­¦å‘Š: ${warningCount}
            `;
            container.appendChild(summary);
        }
        
        // åˆå§‹ç»“æœ
        updateResults();
        
        // å»¶è¿Ÿæ£€æŸ¥ Cloudflare Turnstile
        setTimeout(() => {
            if (window.turnstile) {
                checks.push({type: 'success', message: 'âœ… Cloudflare Turnstile è„šæœ¬å»¶è¿ŸåŠ è½½æˆåŠŸ'});
            } else {
                checks.push({type: 'warning', message: 'âš ï¸ Cloudflare Turnstile è„šæœ¬ä»æœªåŠ è½½'});
            }
            updateResults();
        }, 3000);
    </script>
</body>
</html>
